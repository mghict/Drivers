"use strict";(self.webpackChunkcodal_analysis=self.webpackChunkcodal_analysis||[]).push([[372],{8666:(B,M,u)=>{u.r(M),u.d(M,{SumReportModule:()=>b});var p=u(6895),r=u(3959),s=u(1716),N=u(8702),t=u(1571);const l="sum-report";class c extends N.e{constructor(n){super(n,l)}getSumReportProvince(n,e,i){return this.http.getPagable(`${l}/province`,n,{...i,query:e})}getSumReportProvinceMine(n,e,i){return this.http.getPagable(`${l}/${i}/province-mine`,this.filter(n,e))}getSumReportProvinceMineMaterial(n,e,i){return this.http.getPagable(`${l}/${i}/province-mine-material`,n,{query:e})}getSumReportCity(n,e,i,a){return this.http.getPagable(`${l}/${i}/city`,n,{...a,query:e})}getSumReportMine(n,e,i,a){return this.http.getPagable(`${l}/${i}/mine`,n,{...a,query:e})}getSumReportAllCity(n,e,i){return this.http.getPagable(`${l}/city`,n,{...i,query:e})}getSumReportAllMine(n,e,i){return this.http.getPagable(`${l}/mine`,this.filter(n,e))}static#t=this.\u0275fac=function(e){return new(e||c)(t.LFG(r.OE))};static#e=this.\u0275prov=t.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})}var m=u(7109),h=u(4376),g=u(2508);const Z=function(o){return["province-mine",o]},J=function(o){return{mode:"show",provinceId:o}};function S(o,n){if(1&o&&t._UZ(0,"a",7),2&o){const e=n.$implicit;t.Q6J("routerLink",t.VKq(2,Z,e.provinceId))("state",t.VKq(4,J,e.provinceId))}}class C extends s.gq{constructor(n,e){super(n),this.service=e}delete(n){}search(){this.dataSource=new r.in(n=>this.service.getSumReportProvince(n,this.cleanData(this.searchModel)))}ngOnInit(){this.search()}static#t=this.\u0275fac=function(e){return new(e||C)(t.Y36(s.u),t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:C,selectors:[["moneyon-province"]],features:[t.qOj],decls:8,vars:6,consts:[[1,"row","mt-3"],[1,"card","p-3"],[3,"dataSource","sortable"],["name","provinceName","title","\u0627\u0633\u062a\u0627\u0646","type","text",3,"sort"],["name","mineCount","title","\u062a\u0639\u062f\u0627\u062f \u0645\u0639\u062f\u0646","type","text",3,"sort"],["name","autoCount","title","\u062a\u0639\u062f\u0627\u062f \u062e\u0648\u062f\u0631\u0648","type","text",3,"sort"],["cellClass","text-end",3,"shrink"],["ngbTooltip","\u06af\u0632\u0627\u0631\u0634 \u0645\u0648\u0627\u062f \u0645\u0639\u062f\u0646\u06cc \u0627\u0633\u062a\u0627\u0646 ","role","button",1,"p-2","fa","fa-list","text-primary",3,"routerLink","state"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mts-data-table",2),t._UZ(3,"mts-data-table-col",3)(4,"mts-data-table-col",4)(5,"mts-data-table-col",5),t.TgZ(6,"mts-data-table-col",6),t.YNc(7,S,1,6,"ng-template"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("dataSource",i.dataSource)("sortable",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("shrink",!1))},dependencies:[m.rH,h.Q,g.U]})}const Q=function(o){return["../..","mine",o]},w=function(){return{mode:"show"}};function I(o,n){if(1&o&&t._UZ(0,"a",11),2&o){const e=t.oxw().$implicit;t.Q6J("routerLink",t.VKq(2,Q,e.cityId))("state",t.DdM(4,w))}}function O(o,n){if(1&o&&t.YNc(0,I,1,5,"a",10),2&o){const e=t.oxw();t.Q6J("ngIf",e.provicneId&&+e.provicneId>=0)}}class f extends s.gq{constructor(n,e,i){super(n),this.service=e,this.activatedRoute=i,this.provicneId=i.snapshot.paramMap.get("id")}delete(n){}search(){this.dataSource=new r.in(this.provicneId?n=>this.service.getSumReportCity(n,this.cleanData(this.searchModel),+this.provicneId):n=>this.service.getSumReportAllCity(n,this.cleanData(this.searchModel)))}ngOnInit(){this.search()}static#t=this.\u0275fac=function(e){return new(e||f)(t.Y36(s.u),t.Y36(c),t.Y36(m.gz))};static#e=this.\u0275cmp=t.Xpm({type:f,selectors:[["moneyon-city"]],features:[t.qOj],decls:11,vars:2,consts:[[1,"row","mt-3"],[1,"card","p-3"],[3,"dataSource"],["name","cityName","title","\u0634\u0647\u0631","type","text"],["name","mineCount","title","\u062a\u0639\u062f\u0627\u062f \u0645\u0639\u062f\u0646","type","text"],["name","autoCount","title","\u062a\u0639\u062f\u0627\u062f \u062e\u0648\u062f\u0631\u0648","type","text"],["name","totalWeight","title","\u0645\u062d\u0645\u0648\u0639  \u0648\u0632\u0646","type","text"],["name","totalDays","title","\u062a\u0639\u062f\u0627\u062f \u0631\u0648\u0632","type","text"],["name","avrageDays","title","\u0645\u06cc\u0627\u0646\u06af\u06cc\u0646 \u0631\u0648\u0632","type","text"],["cellClass","text-end",3,"shrink"],["class","p-2 fa fa-eye text-primary","ngbTooltip","\u0645\u0634\u0627\u0647\u062f\u0647 ","role","button",3,"routerLink","state",4,"ngIf"],["ngbTooltip","\u0645\u0634\u0627\u0647\u062f\u0647 ","role","button",1,"p-2","fa","fa-eye","text-primary",3,"routerLink","state"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mts-data-table",2),t._UZ(3,"mts-data-table-col",3)(4,"mts-data-table-col",4)(5,"mts-data-table-col",5)(6,"mts-data-table-col",6)(7,"mts-data-table-col",7)(8,"mts-data-table-col",8),t.TgZ(9,"mts-data-table-col",9),t.YNc(10,O,1,1,"ng-template"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("dataSource",i.dataSource),t.xp6(7),t.Q6J("shrink",!1))},dependencies:[p.O5,m.rH,h.Q,g.U]})}var d=u(4006),A=u(5795),T=u(8008);function k(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",12)(1,"div",3)(2,"div",13)(3,"mts-form-field",14)(4,"input",15),t.NdJ("ngModelChange",function(a){t.CHM(e);const x=t.oxw();return t.KtG(x.filterFields.mineName=a)}),t.qZA()()(),t.TgZ(5,"div",13)(6,"mts-form-field",16)(7,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const x=t.oxw();return t.KtG(x.filterFields.provinceName=a)}),t.qZA()()()(),t.TgZ(8,"div",18)(9,"button",19),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.search())}),t._uU(10,"\u0627\u0639\u0645\u0627\u0644 \u0641\u06cc\u0644\u062a\u0631"),t.qZA(),t.TgZ(11,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.removeFilter())}),t._uU(12,"\u062d\u0630\u0641 \u0641\u06cc\u0644\u062a\u0631"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.filterFields.mineName),t.xp6(3),t.Q6J("ngModel",e.filterFields.provinceName)}}function q(o,n){if(1&o&&(t.TgZ(0,"span",22),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e)}}function P(o,n){1&o&&t.YNc(0,q,2,1,"span",21),2&o&&t.Q6J("ngForOf",n.$implicit.materialNames)}const Y=function(o){return["..","mine-material",o]},U=function(){return{mode:"show"}};function R(o,n){1&o&&t._UZ(0,"a",23),2&o&&t.Q6J("routerLink",t.VKq(2,Y,n.$implicit.mineId))("state",t.DdM(4,U))}class v extends s.gq{constructor(n,e,i){super(n),this.service=e,this.activatedRoute=i,this.filterFields={mineName:"",provinceName:""},this.mineId=i.snapshot.paramMap.get("id")}delete(n){}search(){this.removeAndPushToFilterArr({fieldName:"mineName",value:this.filterFields.mineName,operator:r.Td.LI}),this.removeAndPushToFilterArr({fieldName:"provinceName",value:this.filterFields.provinceName,operator:r.Td.LI}),this.dataSource=new r.in(this.mineId?n=>this.service.getSumReportMine(n,this.cleanData(this.searchModel),+this.mineId):n=>this.service.getSumReportAllMine(n,this.filter))}ngOnInit(){this.search()}removeFilter(){this.filter=[],this.filterFields.mineName=this.filterFields.provinceName="",this.search()}static#t=this.\u0275fac=function(e){return new(e||v)(t.Y36(s.u),t.Y36(c),t.Y36(m.gz))};static#e=this.\u0275cmp=t.Xpm({type:v,selectors:[["moneyon-mine"]],features:[t.qOj],decls:16,vars:8,consts:[[1,"card-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOne","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","border-primary",3,"click"],["id","flush-collapseOne",4,"ngIf"],[1,"row","mt-3"],[1,"card","p-3"],[3,"dataSource","sortable"],["name","provinceName","title","\u0646\u0627\u0645 \u0627\u0633\u062a\u0627\u0646","type","text",3,"sort"],["name","mineName","title","\u0646\u0627\u0645 \u0645\u0639\u062f\u0646","type","text",3,"sort"],["name","mineCode","title","\u06a9\u062f \u0645\u0639\u062f\u0646","type","text",3,"sort"],["name","autoCount","title","\u062a\u0639\u062f\u0627\u062f \u062e\u0648\u062f\u0631\u0648","type","text",3,"sort"],["title","\u0645\u0648\u0627\u062f \u0645\u0639\u062f\u0646\u06cc "],["cellClass","text-end",3,"shrink"],["id","flush-collapseOne"],[1,"col-md-4"],["label","\u0646\u0627\u0645 \u0645\u0639\u062f\u0646 "],["type","text","name","mineName",1,"form-control",3,"ngModel","ngModelChange"],["label","\u0646\u0627\u0645 \u0627\u0633\u062a\u0627\u0646 "],["type","text","name","provinceName",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-outline-primary","ms-2",3,"click"],[1,"btn","btn-outline-danger",3,"click"],["class","bg-secondary rounded m-1 p-1",4,"ngFor","ngForOf"],[1,"bg-secondary","rounded","m-1","p-1"],["ngbTooltip","\u06af\u0632\u0627\u0631\u0634 \u0645\u0648\u0627\u062f \u0645\u0639\u062f\u0646\u06cc \u0627\u0633\u062a\u0627\u0646 ","role","button",1,"p-2","fa","fa-list","text-primary",3,"routerLink","state"]],template:function(e,i){1&e&&(t.TgZ(0,"mts-card")(1,"h2",0)(2,"button",1),t.NdJ("click",function(){return i.toggleSearchBox=!i.toggleSearchBox}),t._uU(3," \u0641\u06cc\u0644\u062a\u0631\u0647\u0627 "),t.qZA()(),t.YNc(4,k,13,2,"div",2),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"mts-data-table",5),t._UZ(8,"mts-data-table-col",6)(9,"mts-data-table-col",7)(10,"mts-data-table-col",8)(11,"mts-data-table-col",9),t.TgZ(12,"mts-data-table-col",10),t.YNc(13,P,1,1,"ng-template"),t.qZA(),t.TgZ(14,"mts-data-table-col",11),t.YNc(15,R,1,5,"ng-template"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.toggleSearchBox),t.xp6(3),t.Q6J("dataSource",i.dataSource)("sortable",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(3),t.Q6J("shrink",!1))},dependencies:[p.sg,p.O5,m.rH,d.Fj,d.JJ,d.On,A.A,T.h,h.Q,g.U]})}var _=u(925);function $(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",11)(1,"div",3)(2,"div",12)(3,"mts-form-field",13)(4,"input",14),t.NdJ("ngModelChange",function(a){t.CHM(e);const x=t.oxw();return t.KtG(x.filterFields.mineName=a)}),t.qZA()()()(),t.TgZ(5,"div",15)(6,"button",16),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.search())}),t._uU(7,"\u0627\u0639\u0645\u0627\u0644 \u0641\u06cc\u0644\u062a\u0631"),t.qZA(),t.TgZ(8,"button",17),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.removeFilter())}),t._uU(9,"\u062d\u0630\u0641 \u0641\u06cc\u0644\u062a\u0631"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.filterFields.mineName)}}function L(o,n){if(1&o&&(t.TgZ(0,"span",19),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e)}}function D(o,n){1&o&&t.YNc(0,L,2,1,"span",18),2&o&&t.Q6J("ngForOf",n.$implicit.materialNames)}const K=function(o){return["/sum-report/mine-material",o]},H=function(){return{mode:"show"}};function V(o,n){1&o&&t._UZ(0,"a",20),2&o&&t.Q6J("routerLink",t.VKq(2,K,n.$implicit.mineId))("state",t.DdM(4,H))}class y extends s.gq{constructor(n,e){super(n),this.service=e,this.filterFields={mineName:""}}delete(n){}search(){this.removeAndPushToFilterArr({fieldName:"mineName",value:this.filterFields.mineName,operator:r.Td.LI}),this.dataSource=new r.in(n=>this.service.getSumReportProvinceMine(n,this.filter,this.provinceId))}ngOnInit(){this.search(),this.provinceId=history.state.provinceId}removeFilter(){this.filter=[],this.filterFields.mineName="",this.search()}static#t=this.\u0275fac=function(e){return new(e||y)(t.Y36(s.u),t.Y36(c))};static#e=this.\u0275cmp=t.Xpm({type:y,selectors:[["moneyon-province-mine"]],features:[t.qOj],decls:15,vars:8,consts:[[1,"card-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOne","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","border-primary",3,"click"],["id","flush-collapseOne",4,"ngIf"],[1,"row","mt-3"],[1,"card","p-3"],[3,"dataSource","sortable"],["name","mineName","title","\u0646\u0627\u0645 \u0645\u0639\u062f\u0646","type","text",3,"sort"],["name","mineCode","title","\u06a9\u062f \u0645\u0639\u062f\u0646","type","text",3,"sort"],["name","autoCount","title","\u062a\u0639\u062f\u0627\u062f \u062e\u0648\u062f\u0631\u0648","type","text",3,"sort"],["title","\u0645\u0648\u0627\u062f \u0645\u0639\u062f\u0646\u06cc ",3,"sort"],["cellClass","text-end",3,"shrink"],["id","flush-collapseOne"],[1,"col-md-4"],["label","\u0646\u0627\u0645 \u0645\u0639\u062f\u0646 "],["type","text","name","mineName",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-outline-primary","ms-2",3,"click"],[1,"btn","btn-outline-danger",3,"click"],["class","bg-secondary rounded m-1 p-1",4,"ngFor","ngForOf"],[1,"bg-secondary","rounded","m-1","p-1"],["ngbTooltip","\u06af\u0632\u0627\u0631\u0634 \u0645\u0648\u0627\u062f \u0645\u0639\u062f\u0646\u06cc  ","role","button",1,"p-2","fa","fa-list","text-primary",3,"routerLink","state"]],template:function(e,i){1&e&&(t.TgZ(0,"mts-card")(1,"h2",0)(2,"button",1),t.NdJ("click",function(){return i.toggleSearchBox=!i.toggleSearchBox}),t._uU(3," \u0641\u06cc\u0644\u062a\u0631\u0647\u0627 "),t.qZA()(),t.YNc(4,$,10,1,"div",2),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"mts-data-table",5),t._UZ(8,"mts-data-table-col",6)(9,"mts-data-table-col",7)(10,"mts-data-table-col",8),t.TgZ(11,"mts-data-table-col",9),t.YNc(12,D,1,1,"ng-template"),t.qZA(),t.TgZ(13,"mts-data-table-col",10),t.YNc(14,V,1,5,"ng-template"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.toggleSearchBox),t.xp6(3),t.Q6J("dataSource",i.dataSource)("sortable",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(2),t.Q6J("shrink",!1))},dependencies:[p.sg,p.O5,m.rH,d.Fj,d.JJ,d.On,A.A,T.h,h.Q,g.U]})}class F extends s.gq{constructor(n,e,i){super(n),this.service=e,this.route=i,this.mineId=i.snapshot.paramMap.get("id")}delete(n){}search(){this.dataSource=new r.in(n=>this.service.getSumReportProvinceMineMaterial(n,this.cleanData(this.searchModel),this.mineId))}ngOnInit(){this.search()}static#t=this.\u0275fac=function(e){return new(e||F)(t.Y36(s.u),t.Y36(c),t.Y36(m.gz))};static#e=this.\u0275cmp=t.Xpm({type:F,selectors:[["moneyon-mine-material"]],features:[t.qOj],decls:6,vars:5,consts:[[1,"row","mt-3"],[1,"card","p-3"],[3,"dataSource","sortable"],["name","materialName","title","\u0646\u0627\u0645 \u0645\u0627\u062f\u0647 \u0645\u0639\u062f\u0646\u06cc ","type","text",3,"sort"],["name","weight","title","\u0645\u062c\u0645\u0648\u0639  \u0648\u0632\u0646","type","text",3,"sort"],["cellClass","text-end",3,"shrink"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mts-data-table",2),t._UZ(3,"mts-data-table-col",3)(4,"mts-data-table-col",4)(5,"mts-data-table-col",5),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("dataSource",i.dataSource)("sortable",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("shrink",!1))},dependencies:[h.Q,g.U]})}class b{static#t=this.\u0275fac=function(e){return new(e||b)};static#e=this.\u0275mod=t.oAB({type:b});static#n=this.\u0275inj=t.cJS({imports:[p.ez,r.SK,m.Bz.forChild([{path:"",component:C,data:{title:"\u062e\u0644\u0627\u0635\u0647 \u0639\u0645\u0644\u06a9\u0631\u062f \u0627\u0633\u062a\u0627\u0646",claim:_.y.ProvinceReportView}},{path:"province-mine/:id",component:y,data:{title:"\u06af\u0632\u0627\u0631\u0634 \u0645\u0639\u0627\u062f\u0646 \u0627\u0633\u062a\u0627\u0646 "}},{path:"city/:id",component:f,data:{title:"\u062e\u0644\u0627\u0635\u0647 \u0639\u0645\u0644\u06a9\u0631\u062f  \u0634\u0647\u0631",claim:_.y.CityReportView}},{path:"mine/:id",component:v,data:{title:"\u062e\u0644\u0627\u0635\u0647 \u0639\u0645\u0644\u06a9\u0631\u062f  \u0645\u0639\u062f\u0646",claim:_.y.MineReportView}},{path:"mine-material/:id",component:F,data:{title:"\u06af\u0632\u0627\u0631\u0634 \u0645\u0648\u0627\u062f \u0645\u0639\u062f\u0646\u06cc \u0647\u0631 \u0645\u0639\u062f\u0646 "}},{path:"city",component:f,data:{title:"\u062e\u0644\u0627\u0635\u0647 \u0639\u0645\u0644\u06a9\u0631\u062f  \u0634\u0647\u0631\u0647\u0627",claim:_.y.CityReportView}},{path:"mine",component:v,data:{title:"\u062e\u0644\u0627\u0635\u0647 \u0639\u0645\u0644\u06a9\u0631\u062f  \u0645\u0639\u062f\u0646 \u0647\u0627",claim:_.y.MineReportView}}])]})}}}]);