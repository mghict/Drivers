"use strict";(self.webpackChunkcodal_analysis=self.webpackChunkcodal_analysis||[]).push([[788],{5788:(K,f,o)=>{o.r(f),o.d(f,{CityModule:()=>p});var u=o(6895),v=o(3959),r=o(1716),t=o(1571),h=o(7109),g=o(4376),b=o(2508),x=o(7140),C=o(2608),_=o(535);const y=function(){return["add"]},M=function(){return{mode:"add"}};function T(i,n){1&i&&(t.TgZ(0,"button",8),t._UZ(1,"i",9),t._uU(2," \u0627\u0641\u0632\u0648\u062f\u0646 "),t.qZA()),2&i&&t.Q6J("routerLink",t.DdM(2,y))("state",t.DdM(3,M))}const Z=function(i){return[i]},J=function(i){return{any:i}};function A(i,n){if(1&i&&t.YNc(0,T,3,4,"button",7),2&i){const e=t.oxw();t.Q6J("mtsClaim",t.VKq(3,J,t.VKq(1,Z,e.permision.MineCreate)))}}const S=function(i){return["detail",i]},Q=function(){return{mode:"show"}},L=function(i){return["edit",i]},Y=function(){return{mode:"edit"}},w=function(){return{}};function F(i,n){if(1&i){const e=t.EpF();t._UZ(0,"a",10)(1,"a",11),t.TgZ(2,"a",12),t.NdJ("confirm",function(){const l=t.CHM(e).$implicit,D=t.oxw();return t.KtG(D.delete(l))}),t._UZ(3,"i",13),t.qZA()}if(2&i){const e=n.$implicit;t.Q6J("routerLink",t.VKq(5,S,e.id))("state",t.DdM(7,Q)),t.xp6(1),t.Q6J("routerLink",t.VKq(8,L,e.id))("state",t.DdM(10,Y)),t.xp6(1),t.Q6J("appConfirmation",t.DdM(11,w))}}class m extends r.gq{constructor(n,e){super(n),this.service=e}search(){this.dataSource=new v.in(n=>this.service.get(n,this.cleanData(this.searchModel)))}ngOnInit(){this.search()}delete(n){n.id&&this.service.delete(n.id).subscribe(this.sucessDeleteObserver)}static#t=this.\u0275fac=function(e){return new(e||m)(t.Y36(r.u),t.Y36(r.Zp))};static#e=this.\u0275cmp=t.Xpm({type:m,selectors:[["moneyon-list"]],features:[t.qOj],decls:8,vars:2,consts:[[1,"row","mt-3"],[1,"card","p-3"],[3,"dataSource"],["mts-action-data-table",""],["name","name","title","\u0646\u0627\u0645","type","text"],["name","provinceName","title","\u0646\u0627\u0645 \u0627\u0633\u062a\u0627\u0646","type","text"],["cellClass","text-end",3,"shrink"],["class","btn btn-primary",3,"routerLink","state",4,"mtsClaim"],[1,"btn","btn-primary",3,"routerLink","state"],[1,"fa-solid","fa-plus"],["ngbTooltip","\u0645\u0634\u0627\u0647\u062f\u0647 ","role","button",1,"p-2","fa","fa-eye","text-primary",3,"routerLink","state"],["ngbTooltip","\u0648\u06cc\u0631\u0627\u06cc\u0634 ","role","button",1,"p-2","fa","fa-edit","text-warning",3,"routerLink","state"],["type","button",1,"btn",3,"appConfirmation","confirm"],[1,"fa-solid","fa-trash","text-danger"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mts-data-table",2),t.YNc(3,A,1,5,"ng-template",3),t._UZ(4,"mts-data-table-col",4)(5,"mts-data-table-col",5),t.TgZ(6,"mts-data-table-col",6),t.YNc(7,F,4,12,"ng-template"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("dataSource",s.dataSource),t.xp6(4),t.Q6J("shrink",!1))},dependencies:[h.rH,g.Q,b.U,x.v,C.Z,_.k]})}var a=o(4006),N=o(5795),I=o(8008),O=o(8557);function E(i,n){if(1&i&&(t.TgZ(0,"option",10),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function k(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"div",3)(1,"div",4)(2,"mts-form-field",5)(3,"input",6),t.NdJ("ngModelChange",function(c){t.CHM(e);const l=t.oxw();return t.KtG(l.model.name=c)}),t.qZA()()(),t.TgZ(4,"div",4)(5,"mts-form-field",7)(6,"select",8),t.NdJ("ngModelChange",function(c){t.CHM(e);const l=t.oxw();return t.KtG(l.model.provinceId=c)}),t.YNc(7,E,2,2,"option",9),t.ALo(8,"async"),t.qZA()()()()}if(2&i){const e=t.oxw();t.xp6(3),t.Q6J("ngModel",e.model.name)("disabled",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.provinceId)("disabled",e.isShowMode),t.xp6(1),t.Q6J("ngForOf",t.lcZ(8,5,e.getAllProvince$))}}class d extends r.vx{constructor(n,e,s,c){super(n),this.provinceService=e,this.activatedRoute=s,this.cityService=c,this.model=new r.UY,this.cities=[],this.getAllProvince$=this.provinceService.read(void 0,"provinces"),this.entityId=s.snapshot.paramMap.get("id")}ngOnInit(){this.findMode(),this.isAddMode||this.getProvince()}getProvince(){this.anotherSubscription=this.cityService.getById(+this.entityId).subscribe(n=>{this.model=n})}getAllCity(){this.anotherSubscription=this.cityService.read(void 0,`cities/${this.model.provinceId}`).subscribe(n=>{this.cities=n})}next(){this.isAddMode?this.anotherSubscription=this.cityService.post(this.model).subscribe(this.sucessObserver):this.isEditMode&&(this.anotherSubscription=this.cityService.put(this.model).subscribe(this.sucessObserver))}back(){this.router.navigate(this.entityId?["../.."]:[".."],{relativeTo:this.activatedRoute})}static#t=this.\u0275fac=function(e){return new(e||d)(t.Y36(r.u),t.Y36(r.fU),t.Y36(h.gz),t.Y36(r.Zp))};static#e=this.\u0275cmp=t.Xpm({type:d,selectors:[["moneyon-edit"]],features:[t.qOj],decls:5,vars:4,consts:[["form","ngForm"],["class","row pb-4",4,"ngIf"],[3,"showNext","withBackArrow","nextDisabled","next","back"],[1,"row","pb-4"],[1,"col-md-4"],["label","\u0646\u0627\u0645  "],["type","text","name","name","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label"," \u0627\u0633\u062a\u0627\u0646 "],["name","provinceId",1,"form-select",3,"ngModel","disabled","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,s){if(1&e&&(t.TgZ(0,"form",null,0)(2,"mts-card"),t.YNc(3,k,9,7,"div",1),t.TgZ(4,"mts-next-back-btns",2),t.NdJ("next",function(){return s.next()})("back",function(){return s.back()}),t.qZA()()()),2&e){const c=t.MAs(1);t.xp6(3),t.Q6J("ngIf",s.model),t.xp6(1),t.Q6J("showNext",!s.isShowMode)("withBackArrow",!1)("nextDisabled",!!c.invalid)}},dependencies:[u.sg,u.O5,a._Y,a.YN,a.Kr,a.Fj,a.EJ,a.JJ,a.JL,a.Q7,a.On,a.F,N.A,I.h,O.J,u.Ov]})}class p{static#t=this.\u0275fac=function(e){return new(e||p)};static#e=this.\u0275mod=t.oAB({type:p});static#n=this.\u0275inj=t.cJS({imports:[u.ez,v.SK,h.Bz.forChild([{path:"",component:m,data:{title:"\u0644\u06cc\u0633\u062a \u0634\u0647\u0631"}},{path:"add",component:d,data:{title:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0634\u0647\u0631"}},{path:"detail/:id",component:d,data:{title:"\u0645\u0634\u0627\u0647\u062f\u0647 \u0634\u0647\u0631"}},{path:"edit/:id",component:d,data:{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0634\u0647\u0631"}}])]})}}}]);