"use strict";(self.webpackChunkcodal_analysis=self.webpackChunkcodal_analysis||[]).push([[596],{4596:($,_,n)=>{n.r(_),n.d(_,{DriverModule:()=>m});var b=n(6895),h=n(1481),s=n(7910),t=n(1571),f=n(8136),v=n(4376),M=n(2508),y=n(7140),T=n(2608),Z=n(535);const A=function(){return["add"]},J=function(){return{mode:"add"}};function N(o,i){1&o&&(t.TgZ(0,"button",13),t._UZ(1,"i",14),t._uU(2," \u0627\u0641\u0632\u0648\u062f\u0646 "),t.qZA()),2&o&&t.Q6J("routerLink",t.DdM(2,A))("state",t.DdM(3,J))}const D=function(o){return[o]},U=function(o){return{any:o}};function w(o,i){if(1&o&&t.YNc(0,N,3,4,"button",12),2&o){const e=t.oxw();t.Q6J("mtsClaim",t.VKq(3,U,t.VKq(1,D,e.permision.DriverCreate)))}}const E=function(o){return["detail",o]},S=function(){return{mode:"show"}},F=function(o){return["edit",o]},Q=function(){return{mode:"edit"}},K=function(){return{}};function Y(o,i){if(1&o){const e=t.EpF();t._UZ(0,"a",15)(1,"a",16),t.TgZ(2,"a",17),t.NdJ("confirm",function(){const d=t.CHM(e).$implicit,C=t.oxw();return t.KtG(C.delete(d))}),t._UZ(3,"i",18),t.qZA()}if(2&o){const e=i.$implicit;t.Q6J("routerLink",t.VKq(5,E,e.personCode))("state",t.DdM(7,S)),t.xp6(1),t.Q6J("routerLink",t.VKq(8,F,e.personCode))("state",t.DdM(10,Q)),t.xp6(1),t.Q6J("appConfirmation",t.DdM(11,K))}}class c extends s.gq{constructor(i,e){super(i),this.service=e}search(){this.dataSource=new h.in(i=>this.service.get(i,this.cleanData(this.searchModel)))}ngOnInit(){this.search()}delete(i){i.personCode&&this.service.delete(i.personCode).subscribe(this.sucessDeleteObserver)}static#t=this.\u0275fac=function(e){return new(e||c)(t.Y36(s.u),t.Y36(s.Ft))};static#e=this.\u0275cmp=t.Xpm({type:c,selectors:[["moneyon-list"]],features:[t.qOj],decls:13,vars:2,consts:[[1,"row","mt-3"],[1,"card","p-3"],[3,"dataSource"],["mts-action-data-table",""],["name","firstName","title","\u0646\u0627\u0645","type","text"],["name","lastName","title","\u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc","type","text"],["name","nationalCode","title","\u06a9\u062f\u0645\u0644\u06cc","type","text"],["name","email","title","\u0627\u06cc\u0645\u06cc\u0644","type","text"],["name","mobileNumber","title","\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647","type","text"],["name","displayName","title","\u0646\u0627\u0645 \u0646\u0645\u0627\u06cc\u0634\u06cc","type","text"],["name","birthDate","title","\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f","type","date"],["cellClass","text-end",3,"shrink"],["class","btn btn-primary",3,"routerLink","state",4,"mtsClaim"],[1,"btn","btn-primary",3,"routerLink","state"],[1,"fa-solid","fa-plus"],["title","\u0645\u0634\u0627\u0647\u062f\u0647 ","role","button",1,"p-2","fa","fa-eye","text-primary",3,"routerLink","state"],["title","\u0648\u06cc\u0631\u0627\u06cc\u0634 ","role","button",1,"p-2","fa","fa-edit","text-warning",3,"routerLink","state"],["type","button",1,"btn",3,"appConfirmation","confirm"],[1,"fa-solid","fa-trash","text-danger"]],template:function(e,u){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mts-data-table",2),t.YNc(3,w,1,5,"ng-template",3),t._UZ(4,"mts-data-table-col",4)(5,"mts-data-table-col",5)(6,"mts-data-table-col",6)(7,"mts-data-table-col",7)(8,"mts-data-table-col",8)(9,"mts-data-table-col",9)(10,"mts-data-table-col",10),t.TgZ(11,"mts-data-table-col",11),t.YNc(12,Y,4,12,"ng-template"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("dataSource",u.dataSource),t.xp6(9),t.Q6J("shrink",!1))},dependencies:[f.rH,v.Q,M.U,y.v,T.Z,Z.k]})}var I=n(529),L=n(1042),H=n(8505),l=n(4006),O=n(5795),G=n(8008),V=n(408),j=n(5624),q=n(8557),B=n(4148),P=n(6089);function k(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"div",4)(1,"mts-form-field",24)(2,"input",25),t.NdJ("ngModelChange",function(a){t.CHM(e);const d=t.oxw(2);return t.KtG(d.model.displayName=a)}),t.qZA()()()}if(2&o){const e=t.oxw(2);t.xp6(2),t.Q6J("ngModel",e.model.displayName)("disabled",e.isShowMode)}}function z(o,i){if(1&o&&t._UZ(0,"app-file-upload",26),2&o){const e=t.oxw(2);t.Q6J("disabled",e.isShowMode)("accept",e.accept)("footer",e.uploadDescription)("uploader",e.fileUploader)("uploaderData",e.documentType.DriverPicture)("autoUpload",!0)("thumbnailUrl",e._thumbnailUrls[e.documentType.DriverPicture])("downloadUrl",e._thumbnailUrls[e.documentType.DriverPicture])("fullScreenThumbnail",!0)("star",!0)}}function R(o,i){if(1&o){const e=t.EpF();t.TgZ(0,"mts-card")(1,"div",2)(2,"h5",3),t._uU(3,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u0634\u062e\u0635\u06cc"),t.qZA(),t.TgZ(4,"div",4)(5,"mts-form-field",5)(6,"input",6),t.NdJ("ngModelChange",function(a){t.CHM(e);const d=t.oxw();return t.KtG(d.model.firstName=a)}),t.qZA()()(),t.TgZ(7,"div",4)(8,"mts-form-field",7)(9,"input",8),t.NdJ("ngModelChange",function(a){t.CHM(e);const d=t.oxw();return t.KtG(d.model.lastName=a)}),t.qZA()()(),t.TgZ(10,"div",4)(11,"mts-form-field",9)(12,"input",10),t.NdJ("ngModelChange",function(a){t.CHM(e);const d=t.oxw();return t.KtG(d.model.nationalCode=a)}),t.qZA()()(),t.TgZ(13,"div",4)(14,"mts-form-field",11)(15,"input",12),t.NdJ("ngModelChange",function(a){t.CHM(e);const d=t.oxw();return t.KtG(d.model.email=a)}),t.qZA()()(),t.TgZ(16,"div",4)(17,"mts-form-field",13)(18,"input",14),t.NdJ("ngModelChange",function(a){t.CHM(e);const d=t.oxw();return t.KtG(d.model.mobileNumber=a)}),t.qZA()()(),t.YNc(19,k,3,2,"div",15),t.TgZ(20,"div",4)(21,"mts-form-field",16)(22,"mts-date-picker",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const d=t.oxw();return t.KtG(d.model.birthDate=a)}),t.qZA()()(),t.TgZ(23,"div",4)(24,"mts-form-field",18)(25,"select",19),t.NdJ("ngModelChange",function(a){t.CHM(e);const d=t.oxw();return t.KtG(d.model.isActive=a)}),t.TgZ(26,"option",20),t._uU(27,"\u0641\u0639\u0627\u0644"),t.qZA(),t.TgZ(28,"option",20),t._uU(29,"\u063a\u06cc\u0631 \u0641\u0639\u0627\u0644"),t.qZA()()()(),t.TgZ(30,"div",21),t.YNc(31,z,1,10,"app-file-upload",22),t.qZA()(),t.TgZ(32,"mts-next-back-btns",23),t.NdJ("next",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.next())})("back",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back())}),t.qZA()()}if(2&o){const e=t.oxw(),u=t.MAs(1);t.xp6(6),t.Q6J("ngModel",e.model.firstName)("disabled",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.lastName)("disabled",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.nationalCode)("disabled",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.email)("disabled",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.mobileNumber)("disabled",e.isShowMode),t.xp6(1),t.Q6J("ngIf",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.birthDate)("required",!0)("disabled",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.isActive)("disabled",e.isShowMode),t.xp6(1),t.Q6J("ngValue",!0),t.xp6(2),t.Q6J("ngValue",!1),t.xp6(3),t.Q6J("ngIf",!e.isAddMode),t.xp6(1),t.Q6J("showNext",!e.isShowMode)("withBackArrow",!1)("nextDisabled",!!u.invalid)}}class r extends s.vx{constructor(i,e,u,a){super(i),this.activatedRoute=e,this.service=u,this.documentsService=a,this.model=new s.tB,this.uploadDescription="\u0641\u0627\u06cc\u0644 \u0647\u0627\u06cc \u0645\u062c\u0627\u0632: jpeg, png (\u062d\u062f\u0627\u06a9\u062b\u0631 5 \u0645\u06af\u0627\u0628\u0627\u06cc\u062a)",this.accept="image/png, image/jpeg",this.documentType=s.Ip,this._thumbnailUrls={},this.fileUploader=(d,C)=>{const p=new s.Cf;return p.file=d,p.type=C,p.personCode=this.entityId,this.documentsService.uploadDocument(p).pipe((0,H.b)(x=>{x instanceof I.Zn&&(this._thumbnailUrls[this.documentType.DriverPicture]=x.body.thumbnailUrl)})).pipe((0,h.OR)())},this.entityId=e.snapshot.paramMap.get("id")}ngOnInit(){this.findMode(),this.isAddMode||this.get()}get(){this.anotherSubscription=this.service.getById(this.entityId).subscribe(i=>{this.model=i,i.document?.thumbnailUrl&&(this._thumbnailUrls[this.documentType.DriverPicture]=i.document?.thumbnailUrl)})}next(){this.isAddMode?this.anotherSubscription=this.service.post(this.model).subscribe(this.sucessObserver):this.isEditMode&&(this.anotherSubscription=this.service.put(this.model).subscribe(this.sucessObserver))}back(){this.router.navigate(this.entityId?["../.."]:[".."],{relativeTo:this.activatedRoute})}static#t=this.\u0275fac=function(e){return new(e||r)(t.Y36(s.u),t.Y36(f.gz),t.Y36(s.Ft),t.Y36(L.Z))};static#e=this.\u0275cmp=t.Xpm({type:r,selectors:[["moneyon-edit"]],features:[t.qOj],decls:3,vars:1,consts:[["form","ngForm"],[4,"ngIf"],[1,"row","pb-4"],[1,"card-title"],[1,"col-md-3"],["label","\u0646\u0627\u0645 "],["type","text","name","firstName","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label"," \u0646\u0627\u0645 \u062e\u0627\u0646\u0648\u0627\u062f\u06af\u06cc "],["type","text","name","lastName","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label","\u06a9\u062f \u0645\u0644\u06cc "],["type","text","name","nationalCode","maxlength","10","minlength","10","required","","mtsOnlyNumber","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label"," \u0627\u06cc\u0645\u06cc\u0644 "],["type","text","name","email",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label"," \u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647 "],["type","text","name","mobileNumber","mtsPhoneValidator","","maxlength","11","minlength","11","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["class","col-md-3",4,"ngIf"],["label","\u062a\u0627\u0631\u06cc\u062e \u062a\u0648\u0644\u062f "],["name","birthDate",3,"ngModel","required","disabled","ngModelChange"],["label"," \u0648\u0636\u0639\u06cc\u062a "],["name","active",1,"form-select",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[1,"col-3"],["header","\u062a\u0635\u0648\u06cc\u0631 \u0631\u0627\u0646\u0646\u062f\u0647",3,"disabled","accept","footer","uploader","uploaderData","autoUpload","thumbnailUrl","downloadUrl","fullScreenThumbnail","star",4,"ngIf"],[3,"showNext","withBackArrow","nextDisabled","next","back"],["label"," \u0646\u0627\u0645  \u0646\u0645\u0627\u06cc\u0634\u06cc"],["type","text","name","displayName",1,"form-control",3,"ngModel","disabled","ngModelChange"],["header","\u062a\u0635\u0648\u06cc\u0631 \u0631\u0627\u0646\u0646\u062f\u0647",3,"disabled","accept","footer","uploader","uploaderData","autoUpload","thumbnailUrl","downloadUrl","fullScreenThumbnail","star"]],template:function(e,u){1&e&&(t.TgZ(0,"form",null,0),t.YNc(2,R,33,22,"mts-card",1),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",u.model))},dependencies:[b.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.wO,l.nD,l.On,l.F,O.A,G.h,V.L,j.Y,q.J,B.p,P.x]})}var X=n(7616),g=n(925);class m{static#t=this.\u0275fac=function(e){return new(e||m)};static#e=this.\u0275mod=t.oAB({type:m});static#n=this.\u0275inj=t.cJS({providers:[s.Ft],imports:[b.ez,h.SK,X.q,f.Bz.forChild([{path:"",component:c,data:{title:"\u0644\u06cc\u0633\u062a \u0631\u0627\u0646\u0646\u062f\u06af\u0627\u0646"}},{path:"add",component:r,data:{title:"\u0627\u0641\u0632\u0648\u062f\u0646 \u0631\u0627\u0646\u0646\u062f\u06af\u0627\u0646",claim:g.y.DriverCreate}},{path:"detail/:id",component:r,data:{title:"\u0645\u0634\u0627\u0647\u062f\u0647 \u0631\u0627\u0646\u0646\u062f\u06af\u0627\u0646",claim:g.y.DriverView}},{path:"edit/:id",component:r,data:{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u0631\u0627\u0646\u0646\u062f\u06af\u0627\u0646",claim:g.y.DriverEdit}}])]})}}}]);