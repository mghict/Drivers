"use strict";(self.webpackChunkcodal_analysis=self.webpackChunkcodal_analysis||[]).push([[385],{5385:(Rt,U,s)=>{s.r(U),s.d(U,{AutoModule:()=>J});var d=s(6895),c=s(3959),r=s(1716),t=s(1571),m=s(7109),O=s(4376),F=s(2508),Y=s(7140),I=s(2608),E=s(535);const S=function(){return["add"]},k=function(){return{mode:"add"}};function K(o,n){1&o&&(t.TgZ(0,"button",15),t._UZ(1,"i",16),t._uU(2," \u0627\u0641\u0632\u0648\u062f\u0646 "),t.qZA()),2&o&&t.Q6J("routerLink",t.DdM(2,S))("state",t.DdM(3,k))}const j=function(o){return[o]},L=function(o){return{any:o}};function H(o,n){if(1&o&&t.YNc(0,K,3,4,"button",14),2&o){const e=t.oxw();t.Q6J("mtsClaim",t.VKq(3,L,t.VKq(1,j,e.permision.AutoCreate)))}}function B(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.autoModel.name)}}function z(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.person.mobileNumber)}}function G(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.person.displayName)}}function P(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.mine.name)}}const $=function(o){return["detail",o]},R=function(){return{mode:"show"}},V=function(o){return["edit",o]},X=function(){return{mode:"edit"}},W=function(){return{}};function tt(o,n){if(1&o){const e=t.EpF();t._UZ(0,"a",17)(1,"a",18),t.TgZ(2,"a",19),t.NdJ("confirm",function(){const u=t.CHM(e).$implicit,q=t.oxw();return t.KtG(q.delete(u))}),t._UZ(3,"i",20),t.qZA()}if(2&o){const e=n.$implicit;t.Q6J("routerLink",t.VKq(5,$,e.id))("state",t.DdM(7,R)),t.xp6(1),t.Q6J("routerLink",t.VKq(8,V,e.id))("state",t.DdM(10,X)),t.xp6(1),t.Q6J("appConfirmation",t.DdM(11,W))}}class h extends r.gq{constructor(n,e){super(n),this.service=e}search(){this.dataSource=new c.in(n=>this.service.get(n,this.cleanData(this.searchModel)))}ngOnInit(){this.search()}delete(n){n.id&&this.service.delete(n.id).subscribe(this.sucessDeleteObserver)}static#t=this.\u0275fac=function(e){return new(e||h)(t.Y36(r.u),t.Y36(r.uD))};static#e=this.\u0275cmp=t.Xpm({type:h,selectors:[["moneyon-list"]],features:[t.qOj],decls:19,vars:12,consts:[[1,"row","mt-3"],[1,"card","p-3"],[3,"dataSource","sortable"],["mts-action-data-table",""],["title","\u0645\u062f\u0644",3,"sort"],["name","createYear","title","\u0633\u0627\u0644 \u0633\u0627\u062e\u062a","type","text",3,"sort"],["name","pelak","title","\u067e\u0644\u0627\u06a9 ","type","text",3,"sort"],["name","vin","title","\u0634\u0645\u0627\u0631\u0647 \u0634\u0646\u0627\u0633\u0647 \u062e\u0648\u062f\u0631\u0648  ","type","text",3,"sort"],["title","\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647",3,"sort"],["title","\u0646\u0627\u0645 \u0631\u0627\u0646\u0646\u062f\u0647",3,"sort"],["title","\u0646\u0627\u0645 \u0645\u0639\u062f\u0646",3,"sort"],["name","deviceCode","title","\u0634\u0646\u0627\u0633\u0647 \u062f\u0633\u062a\u06af\u0627\u0647 ","type","text",3,"sort"],["name","weight","title","\u0648\u0632\u0646 \u0627\u0633\u062a\u0627\u0646\u062f\u0627\u0631\u062f ","type","text",3,"sort"],["cellClass","text-end",3,"shrink"],["class","btn btn-primary",3,"routerLink","state",4,"mtsClaim"],[1,"btn","btn-primary",3,"routerLink","state"],[1,"fa-solid","fa-plus"],["ngbTooltip","\u0645\u0634\u0627\u0647\u062f\u0647 ","role","button",1,"p-2","fa","fa-eye","text-primary",3,"routerLink","state"],["ngbTooltip","\u0648\u06cc\u0631\u0627\u06cc\u0634 ","role","button",1,"p-2","fa","fa-edit","text-warning",3,"routerLink","state"],["type","button",1,"btn",3,"appConfirmation","confirm"],[1,"fa-solid","fa-trash","text-danger"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mts-data-table",2),t.YNc(3,H,1,5,"ng-template",3),t.TgZ(4,"mts-data-table-col",4),t.YNc(5,B,2,1,"ng-template"),t.qZA(),t._UZ(6,"mts-data-table-col",5)(7,"mts-data-table-col",6)(8,"mts-data-table-col",7),t.TgZ(9,"mts-data-table-col",8),t.YNc(10,z,2,1,"ng-template"),t.qZA(),t.TgZ(11,"mts-data-table-col",9),t.YNc(12,G,2,1,"ng-template"),t.qZA(),t.TgZ(13,"mts-data-table-col",10),t.YNc(14,P,2,1,"ng-template"),t.qZA(),t._UZ(15,"mts-data-table-col",11)(16,"mts-data-table-col",12),t.TgZ(17,"mts-data-table-col",13),t.YNc(18,tt,4,12,"ng-template"),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("dataSource",i.dataSource)("sortable",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(1),t.Q6J("shrink",!1))},dependencies:[m.rH,O.Q,F.U,Y.v,I.Z,E.k]})}var et=s(8505),nt=s(871),ot=s(529),it=s(1042),l=s(4006),f=s(5795),v=s(8008),at=s(5624),ut=s(8557),lt=s(4148);const st=["id",""],rt={provide:l.JU,useExisting:(0,t.Gpc)(()=>p),multi:!0};class p{constructor(){this.inputOnBlur=new t.vpe,this.inputOnClick=new t.vpe}ngOnInit(){}set value(n){n?(this.value1=n.split(" ")[1],this.value2=n.split(" ")[2],this.value3=n.split(" ")[3],this.value4=n.split(" ")[4]):(this.value1="",this.value2="",this.value3="",this.value4="")}get value1(){return this.valuefirst}set value1(n){this.valuefirst!==n&&(this.valuefirst=n,this.writeValue())}get value2(){return this.valueSecond}set value2(n){this.valueSecond!==n&&(this.valueSecond=n,this.writeValue())}get value3(){return this.valueThird}set value3(n){this.valueThird!==n&&(this.valueThird=n,this.writeValue())}get value4(){return this.valuefourth}set value4(n){this.valuefourth!==n&&(this.valuefourth=n,this.writeValue())}writeValue(){this.carPlate=` ${this.valuefirst} ${this.valueSecond} ${this.valueThird} ${this.valuefourth}`,this.onChange&&this.onChange(this.carPlate)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}onInputBlur(n){this.inputOnBlur.emit(n),this.onTouched&&this.onTouched()}onInputClick(n,e){this.inputOnClick.emit(n)}static#t=this.\u0275fac=function(e){return new(e||p)};static#e=this.\u0275cmp=t.Xpm({type:p,selectors:[["moneyon-car-plate","id",""]],inputs:{id:"id",disabled:"disabled",required:"required",value:"value"},outputs:{inputOnBlur:"inputOnBlur",inputOnClick:"inputOnClick"},features:[t._Bn([rt])],attrs:st,decls:62,vars:11,consts:[["form","ngForm"],[1,"row","border","border-dark","p-2"],[1,"col-3"],["name","l4","mtsOnlyNumber","","maxlength","2","minlength","2",1,"form-control","text-center",3,"disabled","ngModel","required","ngModelChange"],[1,"col-3","border-dark"],["name","l3","mtsOnlyNumber","","maxlength","3","minlength","3",1,"form-control","text-center",3,"disabled","ngModel","required","ngModelChange"],[1,"col-2"],[1,"col-12p","col-xs-offset-3p"],["name","letter","id","letter","tabindex","3",1,"form-control","text-center","ng-untouched","ng-pristine","ng-valid","notSelected",3,"disabled","ngModel","ngModelChange"],["value","\u0627\u0644\u0641"],["value","\u0628"],["value","\u062a"],["value","\u062b"],["value","\u062c"],["value","\ufffe"],["value","\u062f"],["value","\u0631"],["value","\u0632"],["value","\u0633"],["value","\u0634"],["value","\u0635"],["value","\u0637"],["value","\u0639"],["value","\u0641"],["value","\u0642"],["value","\u0644"],["value","\u0645"],["value","\u0646"],["value","\u0648"],["value","\u0647\u0640"],["value","\u06cc"],["value","D"],["value","S"],["name","l1","maxlength","2","minlength","2","mtsOnlyNumber","",1,"form-control","text-center",3,"ngModel","disabled","required","ngModelChange"],[1,"col-1"],["src","assets/images/plate.svg","width","30","height","50","name",""]],template:function(e,i){1&e&&(t.TgZ(0,"form",null,0)(2,"div",1)(3,"div",2)(4,"input",3),t.NdJ("ngModelChange",function(u){return i.value4=u}),t.qZA()(),t.TgZ(5,"div",4)(6,"input",5),t.NdJ("ngModelChange",function(u){return i.value3=u}),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7)(9,"select",8),t.NdJ("ngModelChange",function(u){return i.value2=u}),t.TgZ(10,"option",9),t._uU(11,"\u0627\u0644\u0641"),t.qZA(),t.TgZ(12,"option",10),t._uU(13,"\u0628"),t.qZA(),t.TgZ(14,"option",11),t._uU(15,"\u062a"),t.qZA(),t.TgZ(16,"option",12),t._uU(17,"\u062b"),t.qZA(),t.TgZ(18,"option",13),t._uU(19,"\u062c"),t.qZA(),t.TgZ(20,"option",14),t._uU(21,"\ufffe"),t.qZA(),t.TgZ(22,"option",15),t._uU(23,"\u062f"),t.qZA(),t.TgZ(24,"option",16),t._uU(25,"\u0631"),t.qZA(),t.TgZ(26,"option",17),t._uU(27,"\u0632"),t.qZA(),t.TgZ(28,"option",18),t._uU(29,"\u0633"),t.qZA(),t.TgZ(30,"option",19),t._uU(31,"\u0634"),t.qZA(),t.TgZ(32,"option",20),t._uU(33,"\u0635"),t.qZA(),t.TgZ(34,"option",21),t._uU(35,"\u0637"),t.qZA(),t.TgZ(36,"option",22),t._uU(37,"\u0639"),t.qZA(),t.TgZ(38,"option",23),t._uU(39,"\u0641"),t.qZA(),t.TgZ(40,"option",24),t._uU(41,"\u0642"),t.qZA(),t.TgZ(42,"option",25),t._uU(43,"\u0644"),t.qZA(),t.TgZ(44,"option",26),t._uU(45,"\u0645"),t.qZA(),t.TgZ(46,"option",27),t._uU(47,"\u0646"),t.qZA(),t.TgZ(48,"option",28),t._uU(49,"\u0648"),t.qZA(),t.TgZ(50,"option",29),t._uU(51,"\u0647\u0640"),t.qZA(),t.TgZ(52,"option",30),t._uU(53,"\u06cc"),t.qZA(),t.TgZ(54,"option",31),t._uU(55,"D"),t.qZA(),t.TgZ(56,"option",32),t._uU(57,"S"),t.qZA()()()(),t.TgZ(58,"div",2)(59,"input",33),t.NdJ("ngModelChange",function(u){return i.value1=u}),t.qZA()(),t.TgZ(60,"div",34),t._UZ(61,"img",35),t.qZA()()()),2&e&&(t.xp6(4),t.Q6J("disabled",i.disabled)("ngModel",i.value4)("required",!0),t.xp6(2),t.Q6J("disabled",i.disabled)("ngModel",i.value3)("required",!0),t.xp6(3),t.Q6J("disabled",i.disabled)("ngModel",i.value2),t.xp6(50),t.Q6J("ngModel",i.value1)("disabled",i.disabled)("required",!0))},dependencies:[l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.wO,l.nD,l.On,l.F,lt.p],changeDetection:0})}function dt(o,n){if(1&o&&(t.TgZ(0,"option",30),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function ct(o,n){if(1&o&&(t.TgZ(0,"option",30),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function mt(o,n){if(1&o&&(t.TgZ(0,"option",30),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.personCode),t.xp6(1),t.hij(" ",e.displayName," ")}}function pt(o,n){if(1&o&&(t.TgZ(0,"option",30),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function gt(o,n){if(1&o&&t._UZ(0,"app-file-upload",31),2&o){const e=t.oxw(2);t.Q6J("disabled",e.isShowMode)("accept",e.accept)("footer",e.uploadDescription)("uploader",e.fileUploader)("uploaderData",e.documentType.AutoPicture)("autoUpload",!0)("thumbnailUrl",e._thumbnailUrls[e.documentType.AutoPicture])("downloadUrl",e._thumbnailUrls[e.documentType.AutoPicture])("fullScreenThumbnail",!0)("star",!0)}}function _t(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mts-card")(1,"div",2)(2,"h5",3),t._uU(3,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(4,"div",4)(5,"mts-form-field",5)(6,"input",6),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.model.createYear=a)}),t.qZA()()(),t.TgZ(7,"div",4)(8,"mts-form-field",7)(9,"select",8),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.model.autoModel.autoBrandId=a)})("change",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.changeBrand())}),t.YNc(10,dt,2,2,"option",9),t.ALo(11,"async"),t.qZA()()(),t.TgZ(12,"div",4)(13,"mts-form-field",10)(14,"select",11),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.model.autoModelId=a)}),t.YNc(15,ct,2,2,"option",9),t.qZA()()(),t.TgZ(16,"div",4)(17,"mts-form-field",12)(18,"input",13),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.model.vin=a)}),t.qZA()()(),t.TgZ(19,"div",4)(20,"mts-form-field",14)(21,"select",15),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.model.personCode=a)}),t.YNc(22,mt,2,2,"option",9),t.ALo(23,"async"),t.qZA()()(),t.TgZ(24,"div",4)(25,"mts-form-field",16)(26,"input",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.model.deviceCode=a)}),t.qZA()()(),t.TgZ(27,"div",4)(28,"mts-form-field",18)(29,"input",19),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.model.weight=a)}),t.qZA()()(),t.TgZ(30,"div",4)(31,"mts-form-field",20)(32,"select",21),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.model.mine.id=a)}),t.YNc(33,pt,2,2,"option",9),t.ALo(34,"async"),t.qZA()()(),t.TgZ(35,"div",4)(36,"mts-form-field",22)(37,"select",23),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.model.isActive=a)}),t.TgZ(38,"option",24),t._uU(39,"\u0641\u0639\u0627\u0644"),t.qZA(),t.TgZ(40,"option",24),t._uU(41,"\u063a\u06cc\u0631 \u0641\u0639\u0627\u0644"),t.qZA()()()(),t.TgZ(42,"div",25)(43,"moneyon-car-plate",26),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.model.pelak=a)}),t.qZA()(),t.TgZ(44,"div",27),t.YNc(45,gt,1,10,"app-file-upload",28),t.qZA()(),t.TgZ(46,"mts-next-back-btns",29),t.NdJ("next",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.next())})("back",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.back())}),t.qZA()()}if(2&o){const e=t.oxw(),i=t.MAs(1);t.xp6(6),t.Q6J("ngModel",e.model.createYear)("disabled",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.autoModel.autoBrandId)("disabled",e.isShowMode),t.xp6(1),t.Q6J("ngForOf",t.lcZ(11,32,e.getAllBrands$)),t.xp6(4),t.Q6J("ngModel",e.model.autoModelId)("disabled",e.isShowMode),t.xp6(1),t.Q6J("ngForOf",e.autoModel),t.xp6(3),t.Q6J("ngModel",e.model.vin)("disabled",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.personCode)("disabled",e.isShowMode),t.xp6(1),t.Q6J("ngForOf",t.lcZ(23,34,e.getAllDriver$)),t.xp6(4),t.Q6J("ngModel",e.model.deviceCode)("disabled",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.weight)("disabled",e.isShowMode),t.xp6(3),t.Q6J("ngModel",e.model.mine.id)("disabled",e.isShowMode),t.xp6(1),t.Q6J("ngForOf",t.lcZ(34,36,e.getAllMine$)),t.xp6(4),t.Q6J("ngModel",e.model.isActive)("disabled",e.isShowMode),t.xp6(1),t.Q6J("ngValue",!0),t.xp6(2),t.Q6J("ngValue",!1),t.xp6(3),t.Q6J("value",e.model.pelak)("ngModel",e.model.pelak)("disabled",e.isShowMode)("required",!0),t.xp6(2),t.Q6J("ngIf",!e.isAddMode),t.xp6(1),t.Q6J("showNext",!e.isShowMode)("withBackArrow",!1)("nextDisabled",i.invalid)}}class g extends r.vx{constructor(n,e,i,a,u,q,zt,Gt){super(n),this.activatedRoute=e,this.service=i,this.modelService=a,this.brandService=u,this.driverService=q,this.mineService=zt,this.documentsService=Gt,this.model=new r.n,this.autoModel=[],this.getAllMine$=this.mineService.read(void 0,"mines"),this.getAllBrands$=this.brandService.read(void 0,"brands"),this.getAllDriver$=this.driverService.read(void 0,"drivers"),this.uploadDescription="\u0641\u0627\u06cc\u0644 \u0647\u0627\u06cc \u0645\u062c\u0627\u0632: jpeg, png (\u062d\u062f\u0627\u06a9\u062b\u0631 5 \u0645\u06af\u0627\u0628\u0627\u06cc\u062a)",this.accept="image/png, image/jpeg",this.documentType=r.Ip,this._thumbnailUrls={},this.fileUploader=(Pt,$t)=>{const N=new r.Cf;return N.file=Pt,N.type=$t,N.autoId=+this.entityId,this.documentsService.uploadDocument(N).pipe((0,et.b)(D=>{D instanceof ot.Zn&&(this._thumbnailUrls[this.documentType.AutoPicture]=D.body.thumbnailUrl)})).pipe((0,c.OR)())},this.entityId=e.snapshot.paramMap.get("id")}ngOnInit(){this.findMode(),this.isAddMode||this.get()}get(){this.anotherSubscription=this.service.getById(+this.entityId).subscribe(n=>{this.model=n,n.document?.thumbnailUrl&&(this._thumbnailUrls[this.documentType.AutoPicture]=n.document?.thumbnailUrl),this.changeBrand()})}changeBrand(){this.modelService.read(void 0,`${this.model.autoModel.autoBrandId}/models`).subscribe(n=>{this.autoModel=n})}next(){this.isAddMode?this.anotherSubscription=this.service.post(this.model).subscribe(this.sucessObserver):this.isEditMode&&(this.anotherSubscription=this.service.put(this.model).subscribe(this.sucessObserver))}back(){this.router.navigate(this.entityId?["../.."]:[".."],{relativeTo:this.activatedRoute})}static#t=this.\u0275fac=function(e){return new(e||g)(t.Y36(r.u),t.Y36(m.gz),t.Y36(r.uD),t.Y36(r.ug),t.Y36(r.OW),t.Y36(r.Ft),t.Y36(nt.C),t.Y36(it.Z))};static#e=this.\u0275cmp=t.Xpm({type:g,selectors:[["moneyon-edit"]],features:[t.qOj],decls:3,vars:1,consts:[["form","ngForm"],[4,"ngIf"],[1,"row","pb-4"],[1,"card-title"],[1,"col-md-3"],["label","\u0633\u0627\u0644 \u067e\u0644\u0627\u06a9 "],["type","text","name","createYear","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label"," \u0646\u0627\u0645 \u0628\u0631\u0646\u062f "],["name","autobrand",1,"form-select",3,"ngModel","disabled","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["label"," \u0646\u0627\u0645 \u0645\u062f\u0644 "],["name","autoModel",1,"form-select",3,"ngModel","disabled","ngModelChange"],["label","\u0634\u0645\u0627\u0631\u0647 \u0634\u0646\u0627\u0633\u0647 \u062e\u0648\u062f\u0631\u0648"],["type","text","name","vin","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label"," \u0646\u0627\u0645 \u0631\u0627\u0646\u0646\u062f\u0647 "],["name","driverDisplayName",1,"form-select",3,"ngModel","disabled","ngModelChange"],["label","\u0634\u0646\u0627\u0633\u0647 \u062f\u0633\u062a\u06af\u0627\u0647 "],["type","text","name","deviceCode",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label","\u0648\u0632\u0646 "],["type","text","name","weight",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label"," \u0646\u0627\u0645 \u0645\u0639\u062f\u0646 "],["name","mine",1,"form-select",3,"ngModel","disabled","ngModelChange"],["label"," \u0648\u0636\u0639\u06cc\u062a "],["name","active",1,"form-select",3,"ngModel","disabled","ngModelChange"],[3,"ngValue"],[1,"col-md-5","mt-3"],["name","carplate1","id","carplate",3,"value","ngModel","disabled","required","ngModelChange"],[1,"col-3"],["header","\u062a\u0635\u0648\u06cc\u0631 \u062e\u0648\u062f\u0631\u0648",3,"disabled","accept","footer","uploader","uploaderData","autoUpload","thumbnailUrl","downloadUrl","fullScreenThumbnail","star",4,"ngIf"],[3,"showNext","withBackArrow","nextDisabled","next","back"],[3,"value"],["header","\u062a\u0635\u0648\u06cc\u0631 \u062e\u0648\u062f\u0631\u0648",3,"disabled","accept","footer","uploader","uploaderData","autoUpload","thumbnailUrl","downloadUrl","fullScreenThumbnail","star"]],template:function(e,i){1&e&&(t.TgZ(0,"form",null,0),t.YNc(2,_t,47,38,"mts-card",1),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.model))},dependencies:[d.sg,d.O5,l._Y,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.On,l.F,f.A,v.h,at.Y,ut.J,p,d.Ov]})}var ht=s(7616),C=s(925),ft=s(408),vt=s(5556);function Ct(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"div",3)(2,"div",18)(3,"mts-form-field",19)(4,"input",20),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.filterFields.deviceCode=a)}),t.qZA()()(),t.TgZ(5,"div",21)(6,"mts-form-field",22)(7,"mts-date-picker",23),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.filterFields.fromDateChange=a)}),t.qZA()()(),t.TgZ(8,"div",21)(9,"mts-form-field",24)(10,"mts-date-picker",25),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.filterFields.toDateChange=a)}),t.qZA()()()(),t.TgZ(11,"div",26)(12,"button",27),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.search())}),t._uU(13,"\u0627\u0639\u0645\u0627\u0644 \u0641\u06cc\u0644\u062a\u0631"),t.qZA(),t.TgZ(14,"button",28),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.removeFilter())}),t._uU(15,"\u062d\u0630\u0641 \u0641\u06cc\u0644\u062a\u0631"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.filterFields.deviceCode),t.xp6(3),t.Q6J("ngModel",e.filterFields.fromDateChange),t.xp6(3),t.Q6J("ngModel",e.filterFields.toDateChange)}}function xt(o,n){1&o&&(t._uU(0),t.ALo(1,"jalaliDate")),2&o&&t.hij(" ",t.xi3(1,1,n.$implicit.date,!0)," ")}const Mt=function(o){return["detail",o]},bt=function(){return{mode:"show"}};function Tt(o,n){1&o&&t._UZ(0,"a",29),2&o&&t.Q6J("routerLink",t.VKq(2,Mt,n.$implicit.id))("state",t.DdM(4,bt))}class x extends r.gq{constructor(n,e){super(n),this.service=e,this.filterFields={deviceCode:"",fromDateChange:"",toDateChange:""},this.pageSize=10}delete(n){}search(){this.removeAndPushToFilterArr({fieldName:"sendDate",value:this.filterFields.fromDateChange,operator:c.Td.GT}),this.removeAndPushToFilterArr({fieldName:"sendDate",value:this.filterFields.toDateChange,operator:c.Td.LT}),this.removeAndPushToFilterArr({fieldName:"deviceCode",value:this.filterFields.deviceCode,operator:c.Td.EQ}),console.log(this.filter),this.dataSource=new c.in(n=>this.service.getAutosHistory(n,this.filter)),console.log(this.dataSource)}ngOnInit(){this.search()}disableBtn(){return!Object.values(this.filterFields).find(e=>!0===Boolean(e))}removeFilter(){this.filter=[],this.filterFields.deviceCode=this.filterFields.fromDateChange=this.filterFields.toDateChange="",this.search()}static#t=this.\u0275fac=function(e){return new(e||x)(t.Y36(r.u),t.Y36(r.uD))};static#e=this.\u0275cmp=t.Xpm({type:x,selectors:[["moneyon-history"]],features:[t.qOj],decls:22,vars:11,consts:[[1,"card-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOne","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","border-primary",3,"click"],[4,"ngIf"],[1,"row","mt-3"],[1,"card","p-3"],[3,"dataSource","sortable"],["name","deviceCode","title","\u0634\u0646\u0627\u0633\u0647 \u062e\u0648\u062f\u0631\u0648 ","type","text",3,"sort"],["name","pelak","title","\u067e\u0644\u0627\u06a9 ","type","text"],["name","missionCode","title","\u06a9\u062f \u0639\u0645\u0644\u06cc\u0627\u062a","type","text",3,"sort"],["name","driverDisplayName","title","\u0646\u0627\u0645 \u0631\u0627\u0646\u0646\u062f\u0647","type","text",3,"sort"],["name","mineName","title","\u0645\u0639\u062f\u0646","type","text"],["name","weight","title","\u0648\u0632\u0646 \u0628\u0627\u0631","type","text",3,"sort"],["name","cityName","title","\u0634\u0647\u0631","type","text"],["name","provinceName","title","\u0627\u0633\u062a\u0627\u0646","type","text"],[3,"filter","fieldName"],["name","endDate","title","\u062a\u0627\u0631\u06cc\u062e \u062a\u062e\u0644\u06cc\u0647","type","date"],["name","materialName","title","\u0646\u0648\u0639 \u0628\u0627\u0631","type","text",3,"sort"],["cellClass","text-end",3,"shrink"],[1,"col-md-4"],["label","\u0634\u0646\u0627\u0633\u0647 \u062f\u0633\u062a\u06af\u0627\u0647 "],["type","text","name","deviceCode",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-4"],["label"," (\u0627\u0632 \u062a\u0627\u0631\u06cc\u062e)"],["name","fromDateChange",3,"ngModel","ngModelChange"],["label"," (\u062a\u0627 \u062a\u0627\u0631\u06cc\u062e)"],["name","toDateChange",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-outline-primary","ms-2",3,"click"],[1,"btn","btn-outline-danger",3,"click"],["ngbTooltip","\u0645\u0634\u0627\u0647\u062f\u0647 ","role","button",1,"p-2","fa","fa-eye","text-primary",3,"routerLink","state"]],template:function(e,i){1&e&&(t.TgZ(0,"mts-card")(1,"h2",0)(2,"button",1),t.NdJ("click",function(){return i.toggleSearchBox=!i.toggleSearchBox}),t._uU(3," \u0641\u06cc\u0644\u062a\u0631\u0647\u0627 "),t.qZA()(),t.YNc(4,Ct,16,3,"div",2),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"mts-data-table",5),t._UZ(8,"mts-data-table-col",6)(9,"mts-data-table-col",7)(10,"mts-data-table-col",8)(11,"mts-data-table-col",9)(12,"mts-data-table-col",10)(13,"mts-data-table-col",11)(14,"mts-data-table-col",12)(15,"mts-data-table-col",13),t.TgZ(16,"mts-data-table-col",14),t.YNc(17,xt,2,4,"ng-template"),t.qZA(),t._UZ(18,"mts-data-table-col",15)(19,"mts-data-table-col",16),t.TgZ(20,"mts-data-table-col",17),t.YNc(21,Tt,1,5,"ng-template"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.toggleSearchBox),t.xp6(3),t.Q6J("dataSource",i.dataSource)("sortable",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(3),t.Q6J("filter",!0)("fieldName","Date"),t.xp6(3),t.Q6J("sort",!0),t.xp6(1),t.Q6J("shrink",!1))},dependencies:[d.O5,m.rH,l.Fj,l.JJ,l.On,f.A,v.h,ft.L,O.Q,F.U,vt.K]})}var Q=s(9898),M=s(6601);const At=function(){return{}},yt=function(o){return{type:"LineString",coordinates:o}},Jt=function(o,n){return{type:"Feature",properties:o,geometry:n}},Nt=function(o){return{type:"geojson",data:o}},Ot=function(){return{"line-join":"round","line-cap":"round"}},Ft=function(){return{"line-color":"#888","line-width":3}};function qt(o,n){if(1&o&&t._UZ(0,"mgl-layer",6),2&o){const e=t.oxw(2);t.Q6J("source",t.VKq(9,Nt,t.WLB(6,Jt,t.DdM(3,At),t.VKq(4,yt,e.coordinates))))("layout",t.DdM(11,Ot))("paint",t.DdM(12,Ft))}}const w=function(o,n){return{lat:o,lng:n}};function Ut(o,n){if(1&o&&t._UZ(0,"mgl-marker",4),2&o){const e=t.oxw(2);t.Q6J("lngLat",t.WLB(1,w,e.coordinates[e.coordinates.length-1][1],e.coordinates[e.coordinates.length-1][0]))}}const Qt=function(){return[9]};function wt(o,n){if(1&o&&(t.TgZ(0,"mts-card")(1,"div",1)(2,"mgl-map",2),t.YNc(3,qt,1,13,"mgl-layer",3),t.TgZ(4,"div"),t._UZ(5,"mgl-marker",4),t.YNc(6,Ut,1,4,"mgl-marker",5),t.qZA()()()()),2&o){const e=t.oxw();t.xp6(2),t.Akn("https://map.ir/vector/styles/main/mapir-xyz-style.json"),t.Q6J("zoom",t.DdM(8,Qt))("center",e.coordinates[e.coordinates.length-1])("transformRequest",e.transformRequest),t.xp6(1),t.Q6J("ngIf",e.line),t.xp6(2),t.Q6J("lngLat",t.WLB(9,w,e.coordinates[0][1],e.coordinates[0][0])),t.xp6(1),t.Q6J("ngIf",e.coordinates.length>1)}}class _{constructor(){this.YOUR_MAPIR_TOKEN="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6IjhjYzQ3ZTQwODlmNTc5N2UxYzcyYzAwZmQ4YjQwM2Y2NTMzNDkyZjk0NzlhOGNiMWYzNjgzMzUzZTU2ODEwNzRhYzYwYWIyNzI0YzlkNGQ2In0.eyJhdWQiOiIyNjEwNCIsImp0aSI6IjhjYzQ3ZTQwODlmNTc5N2UxYzcyYzAwZmQ4YjQwM2Y2NTMzNDkyZjk0NzlhOGNiMWYzNjgzMzUzZTU2ODEwNzRhYzYwYWIyNzI0YzlkNGQ2IiwiaWF0IjoxNzA3NTgzMDcyLCJuYmYiOjE3MDc1ODMwNzIsImV4cCI6MTcxMDA4ODY3Miwic3ViIjoiIiwic2NvcGVzIjpbImJhc2ljIl19.jjZACPXKFN0Oty2bKkz_0rmm0VOEmUPaB0t05BJH1URUJJFOULuc1kKJU-jO8sKYm24D3QGbFmFsBX8L7dXgJK3VdQ_mFrfUspvjrYwCM9wx1OEkS_lO19wyWwqbhieLjrCbcXjtQu7aDsCNMuqFkfEnac2NQU5uepNan5XPmlIEuGgyOQRpW-hFqoBUWUgsMNtH9EEAfRrVdaV8qafBM3iLlCe09yAJOkun9p916oC_2UM7kXQaMIlUpm5x5RkPJD4tYL2XQ7IwGLhiYJm49TWvz5zsiaauGtEiiDwJ6TF_xW35--j_HeDGunPpe2H93ubYHbQUwyUGsob3qFdnlg",this.imageLoaded=!1,this.data=[],this.line=!0,this.transformRequest=(n,e)=>({url:n,headers:{"x-api-key":this.YOUR_MAPIR_TOKEN}})}ngOnChanges(n){this.ngOnInit()}ngOnInit(){console.log(this.data),this.coordinates=[],"unavailable"===Q.getRTLTextPluginStatus()&&Q.setRTLTextPlugin("https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",()=>{},!0),this.prepareData()}prepareData(){this.coordinates=[],this.data.length>0&&this.data.forEach(n=>{n.lng&&n.lat&&this.coordinates.push([n.lng,n.lat])})}static#t=this.\u0275fac=function(e){return new(e||_)};static#e=this.\u0275cmp=t.Xpm({type:_,selectors:[["moneyon-map"]],inputs:{data:"data",line:"line"},features:[t.TTD],decls:1,vars:1,consts:[[4,"ngIf"],[1,"card","p-3"],[3,"zoom","center","transformRequest"],["id","route","type","line",3,"source","layout","paint",4,"ngIf"],[3,"lngLat"],[3,"lngLat",4,"ngIf"],["id","route","type","line",3,"source","layout","paint"]],template:function(e,i){1&e&&t.YNc(0,wt,7,12,"mts-card",0),2&e&&t.Q6J("ngIf",i.coordinates.length>0)},dependencies:[d.O5,M.Gd,M.TT,M.CI],styles:["mgl-map[_ngcontent-%COMP%] {\n        height: 400px;\n        width: 1250px;\n      }"]})}function Dt(o,n){if(1&o&&t._UZ(0,"moneyon-map",1),2&o){const e=t.oxw();t.Q6J("data",e.data)}}class b extends r.gq{constructor(n,e,i){super(n),this.activatedRoute=e,this.service=i,this.data=[],this.historyId=e.snapshot.paramMap.get("id")}delete(n){}search(){this.service.getByIdAutoTransport(+this.historyId,this.cleanData(this.searchModel)).subscribe(n=>{this.data=n,this.data=this.data.filter(e=>0!=e.lat&&0!=e.lng)})}ngOnInit(){this.search()}static#t=this.\u0275fac=function(e){return new(e||b)(t.Y36(r.u),t.Y36(m.gz),t.Y36(r.uD))};static#e=this.\u0275cmp=t.Xpm({type:b,selectors:[["moneyon-detail"]],features:[t.qOj],decls:1,vars:1,consts:[[3,"data",4,"ngIf"],[3,"data"]],template:function(e,i){1&e&&t.YNc(0,Dt,1,1,"moneyon-map",0),2&e&&t.Q6J("ngIf",i.data)},dependencies:[d.O5,_]})}class T{static#t=this.\u0275fac=function(e){return new(e||T)};static#e=this.\u0275mod=t.oAB({type:T});static#n=this.\u0275inj=t.cJS({imports:[d.ez,M.Wm]})}function Yt(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",3)(2,"div",16)(3,"mts-form-field",17)(4,"input",18),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.filterFields.deviceCode=a)}),t.qZA()()()(),t.TgZ(5,"div",19)(6,"button",20),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.search())}),t._uU(7,"\u0627\u0639\u0645\u0627\u0644 \u0641\u06cc\u0644\u062a\u0631"),t.qZA(),t.TgZ(8,"button",21),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.removeFilter())}),t._uU(9,"\u062d\u0630\u0641 \u0641\u06cc\u0644\u062a\u0631"),t.qZA()()()}if(2&o){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.filterFields.deviceCode)}}function It(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.autoModel.name)}}function Et(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.person.mobileNumber)}}function St(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.person.displayName)}}function kt(o,n){if(1&o&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&o){const e=n.$implicit;t.xp6(1),t.Oqu(e.mine.name)}}const Kt=function(o){return["detail",o]},jt=function(o){return{mode:"show",auto:o}};function Lt(o,n){if(1&o&&t._UZ(0,"a",22),2&o){const e=n.$implicit;t.Q6J("routerLink",t.VKq(2,Kt,e.id))("state",t.VKq(4,jt,e.autoModel))}}class Z extends r.gq{constructor(n,e){super(n),this.service=e,this.filterFields={deviceCode:""}}search(){this.removeAndPushToFilterArr({fieldName:"deviceCode",value:this.filterFields.deviceCode,operator:c.Td.EQ}),this.dataSource=new c.in(n=>this.service.getAutosList(n,this.filter))}ngOnInit(){this.search(),this.interval=setInterval(()=>{this.search()},6e4)}delete(n){n.personCode&&this.service.delete(n.personCode).subscribe(this.sucessDeleteObserver)}ngOnDestroy(){clearInterval(this.interval)}removeFilter(){this.filter=[],this.filterFields.deviceCode="",this.search()}static#t=this.\u0275fac=function(e){return new(e||Z)(t.Y36(r.u),t.Y36(r.uD))};static#e=this.\u0275cmp=t.Xpm({type:Z,selectors:[["moneyon-online-driver"]],features:[t.qOj],decls:22,vars:9,consts:[[1,"card-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#flush-collapseOne","aria-expanded","false","aria-controls","flush-collapseOne",1,"accordion-button","border-primary",3,"click"],["id","flush-collapseOne",4,"ngIf"],[1,"row","mt-3"],[1,"card","p-3"],[3,"dataSource","sortable"],["title","\u0645\u062f\u0644",3,"sort"],["name","createYear","title","\u0633\u0627\u0644 \u0633\u0627\u062e\u062a","type","text",3,"sort"],["name","pelak","title","\u067e\u0644\u0627\u06a9 ","type","text"],["name","deviceCode","title","\u0634\u0646\u0627\u0633\u0647 \u062f\u0633\u062a\u06af\u0627\u0647 ","type","text",3,"sort"],["title","\u0634\u0645\u0627\u0631\u0647 \u0647\u0645\u0631\u0627\u0647"],["title","\u0646\u0627\u0645 \u0631\u0627\u0646\u0646\u062f\u0647",3,"sort"],["title","\u0646\u0627\u0645 \u0645\u0639\u062f\u0646",3,"sort"],["name","vin","title","\u0634\u0645\u0627\u0631\u0647 \u0634\u0646\u0627\u0633\u0647 \u062e\u0648\u062f\u0631\u0648  ","type","text"],["cellClass","text-end",3,"shrink"],["id","flush-collapseOne"],[1,"col-md-4"],["label","\u0634\u0646\u0627\u0633\u0647 \u062f\u0633\u062a\u06af\u0627\u0647 "],["type","text","name","deviceCode",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","flex-row-reverse"],[1,"btn","btn-outline-primary","ms-2",3,"click"],[1,"btn","btn-outline-danger",3,"click"],["ngbTooltip","\u0645\u0634\u0627\u0647\u062f\u0647 ","role","button",1,"p-2","fa","fa-eye","text-primary",3,"routerLink","state"]],template:function(e,i){1&e&&(t.TgZ(0,"mts-card")(1,"h2",0)(2,"button",1),t.NdJ("click",function(){return i.toggleSearchBox=!i.toggleSearchBox}),t._uU(3," \u0641\u06cc\u0644\u062a\u0631\u0647\u0627 "),t.qZA()(),t.YNc(4,Yt,10,1,"div",2),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"mts-data-table",5)(8,"mts-data-table-col",6),t.YNc(9,It,2,1,"ng-template"),t.qZA(),t._UZ(10,"mts-data-table-col",7)(11,"mts-data-table-col",8)(12,"mts-data-table-col",9),t.TgZ(13,"mts-data-table-col",10),t.YNc(14,Et,2,1,"ng-template"),t.qZA(),t.TgZ(15,"mts-data-table-col",11),t.YNc(16,St,2,1,"ng-template"),t.qZA(),t.TgZ(17,"mts-data-table-col",12),t.YNc(18,kt,2,1,"ng-template"),t.qZA(),t._UZ(19,"mts-data-table-col",13),t.TgZ(20,"mts-data-table-col",14),t.YNc(21,Lt,1,6,"ng-template"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.toggleSearchBox),t.xp6(3),t.Q6J("dataSource",i.dataSource)("sortable",!0),t.xp6(1),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(3),t.Q6J("sort",!0),t.xp6(2),t.Q6J("sort",!0),t.xp6(3),t.Q6J("shrink",!1))},dependencies:[d.O5,m.rH,l.Fj,l.JJ,l.On,f.A,v.h,O.Q,F.U]})}function Ht(o,n){if(1&o){const e=t.EpF();t.TgZ(0,"mts-card")(1,"div",3)(2,"h5",4),t._uU(3,"\u0627\u0637\u0644\u0627\u0639\u0627\u062a \u062e\u0648\u062f\u0631\u0648"),t.qZA(),t.TgZ(4,"div",5)(5,"mts-form-field",6)(6,"input",7),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.auto.createYear=a)}),t.qZA()()(),t.TgZ(7,"div",5)(8,"mts-form-field",8)(9,"input",9),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.auto.autoModel.autoBrandName=a)}),t.qZA()()(),t.TgZ(10,"div",5)(11,"mts-form-field",10)(12,"input",11),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.auto.autoModel.name=a)}),t.qZA()()(),t.TgZ(13,"div",5)(14,"mts-form-field",12)(15,"input",13),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.auto.person.displayName=a)}),t.qZA()()(),t.TgZ(16,"div",5)(17,"mts-form-field",14)(18,"input",15),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.auto.deviceCode=a)}),t.qZA()()(),t.TgZ(19,"div",16)(20,"moneyon-car-plate",17),t.NdJ("ngModelChange",function(a){t.CHM(e);const u=t.oxw();return t.KtG(u.auto.pelak=a)}),t.qZA()()()()}if(2&o){const e=t.oxw();t.xp6(6),t.Q6J("ngModel",e.auto.createYear)("disabled",!0),t.xp6(3),t.Q6J("ngModel",e.auto.autoModel.autoBrandName)("disabled",!0),t.xp6(3),t.Q6J("ngModel",e.auto.autoModel.name)("disabled",!0),t.xp6(3),t.Q6J("ngModel",e.auto.person.displayName)("disabled",!0),t.xp6(3),t.Q6J("ngModel",e.auto.deviceCode)("disabled",!0),t.xp6(2),t.Q6J("value",e.auto.pelak)("ngModel",e.auto.pelak)("disabled",!0)("required",!0)}}function Bt(o,n){if(1&o&&t._UZ(0,"moneyon-map",18),2&o){const e=t.oxw();t.Q6J("data",e.cordinates)}}class A extends r.gq{constructor(n,e,i){super(n),this.activatedRoute=e,this.service=i,this.autoId=0,this.cordinates=[],this.historyId=e.snapshot.paramMap.get("id")}delete(n){}ngOnInit(){this.search(),this.interval=setInterval(()=>{this.search()},6e4),history.state&&history.state.auto&&(this.autoId=history.state.auto.id,this.get())}search(){this.cordinates=[],this.service.getByIdAutoOnline(+this.historyId,this.cleanData(this.searchModel)).subscribe(n=>{console.log(n),this.cordinates.push(n),console.log(this.cordinates)})}get(){this.anotherSubscription=this.service.getById(+this.autoId).subscribe(n=>{this.auto=n})}ngOnDestroy(){clearInterval(this.interval)}static#t=this.\u0275fac=function(e){return new(e||A)(t.Y36(r.u),t.Y36(m.gz),t.Y36(r.uD))};static#e=this.\u0275cmp=t.Xpm({type:A,selectors:[["moneyon-onlines-detail"]],features:[t.qOj],decls:4,vars:2,consts:[["form","ngForm"],[4,"ngIf"],[3,"data",4,"ngIf"],[1,"row","pb-4"],[1,"card-title"],[1,"col-md-3"],["label","\u0633\u0627\u0644 \u067e\u0644\u0627\u06a9 "],["type","text","name","createYear","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label"," \u0646\u0627\u0645 \u0628\u0631\u0646\u062f "],["type","text","name","autoBrandName","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label"," \u0646\u0627\u0645 \u0645\u062f\u0644 "],["type","text","name","autoModelname","required","",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label"," \u0646\u0627\u0645 \u0631\u0627\u0646\u0646\u062f\u0647 "],["type","text","name","driverDisplayName",1,"form-control",3,"ngModel","disabled","ngModelChange"],["label","\u0634\u0646\u0627\u0633\u0647 \u062f\u0633\u062a\u06af\u0627\u0647 "],["type","text","name","deviceCode",1,"form-control",3,"ngModel","disabled","ngModelChange"],[1,"col-md-5","mt-3"],["name","carplate1","id","carplate",3,"value","ngModel","disabled","required","ngModelChange"],[3,"data"]],template:function(e,i){1&e&&(t.TgZ(0,"form",null,0),t.YNc(2,Ht,21,14,"mts-card",1),t.YNc(3,Bt,1,1,"moneyon-map",2),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.auto),t.xp6(1),t.Q6J("ngIf",i.cordinates.length>0))},dependencies:[d.O5,l._Y,l.Fj,l.JJ,l.JL,l.Q7,l.On,l.F,f.A,v.h,_,p]})}class y{static#t=this.\u0275fac=function(e){return new(e||y)};static#e=this.\u0275mod=t.oAB({type:y});static#n=this.\u0275inj=t.cJS({imports:[d.ez,c.SK]})}class J{static#t=this.\u0275fac=function(e){return new(e||J)};static#e=this.\u0275mod=t.oAB({type:J});static#n=this.\u0275inj=t.cJS({imports:[d.ez,c.SK,ht.q,T,y,m.Bz.forChild([{path:"",component:h,data:{title:"\u0644\u06cc\u0633\u062a \u062e\u0648\u062f\u0631\u0648"}},{path:"online-auto",data:{title:"\u0644\u06cc\u0633\u062a  \u0622\u0646\u0644\u0627\u06cc\u0646 \u062e\u0648\u062f\u0631\u0648"},children:[{path:"",component:Z,data:{title:"\u0644\u06cc\u0633\u062a  \u0622\u0646\u0644\u0627\u06cc\u0646 \u062e\u0648\u062f\u0631\u0648"}},{path:"detail/:id",component:A,data:{title:"\u062c\u0632\u0626\u06cc\u0627\u062a \u0627\u0646\u0644\u0627\u06cc\u0646 \u062e\u0648\u062f\u0631\u0648"}}]},{path:"history",data:{title:"\u06af\u0632\u0627\u0631\u0634 \u062a\u0631\u062f\u062f \u062e\u0648\u062f\u0631\u0648"},children:[{path:"",component:x,data:{title:"\u06af\u0632\u0627\u0631\u0634 \u062a\u0631\u062f\u062f \u062e\u0648\u062f\u0631\u0648"}},{path:"detail/:id",component:b,data:{title:"\u0645\u0634\u0627\u0647\u062f\u0647 \u062a\u0631\u062f\u062f \u062e\u0648\u062f\u0631\u0648",claim:C.y.AutoView}}]},{path:"add",component:g,data:{title:"\u0627\u0641\u0632\u0648\u062f\u0646 \u062e\u0648\u062f\u0631\u0648",claim:C.y.AutoCreate}},{path:"detail/:id",component:g,data:{title:"\u0645\u0634\u0627\u0647\u062f\u0647 \u062e\u0648\u062f\u0631\u0648",claim:C.y.AutoView}},{path:"edit/:id",component:g,data:{title:"\u0648\u06cc\u0631\u0627\u06cc\u0634 \u062e\u0648\u062f\u0631\u0648",claim:C.y.AutoEdit}}])]})}}}]);